<html>
<head>
<title>EJEMPLO DE OBTENCION DE DATOS CON JAVASCRIPT</title>
<script type="text/javascript">

	function esLetra(dato) {
	/*Definición de los valores aceptados*/
	var Mayusculas = /^[A-Z]+$/;
	var Minusculas = /^[a-z]+$/;
	var espacio = " "
                if (dato.match(Minusculas)){
					//alert("Min");
                   return true;
                }else if (dato.match(Mayusculas))
				{
					//alert("May");
                   return true;
				}else if (dato.match(espacio))
				{
					//alert("Esp");
                   return true;
				}
				else{
					alert("Cadena no aceptada");
                   return false;
                }
	}
	function esNumero(dato) {
	/*Definición de los valores aceptados*/
	var Numeros = /^[0-9]+$/;
                if (dato.match(Numeros)){
					//alert("Min");
                   return true;
                }else{
					alert("Cadena no aceptada");
                   return false;
                }
	}
	function esExadecimal(dato) {
	/*Definición de los valores aceptados*/
	var Numeros = /^[0-9]+$/;
	var Letras = /^[A-F]+$/;
                if (dato.match(Numeros)){
					//alert("Min");
                   return true;
                }else if(dato.match(Letras)){
					return true;
				}
				else{
					alert("Cadena no aceptada");
                   return false;
                }
	}
	function esIP(dato) {
    let verdad = dato.split('.').map(n => +n).filter(n => {
        return (n >= 0 && n < 256 && Number)
    })
    return verdad.length == 4 ? true : false
	}

	function obtenerdatos()
	{
		var n_usuario = document.getElementById('n_usuario').value;
		var nombre = document.getElementById('nombre').value;
		var apellido = document.getElementById('apellido').value;
		var tel = document.getElementById('tel').value;
		var ip = document.getElementById('ip').value;
		var mac = document.getElementById('mac').value;

		//NUMERO DE USUARIO
		var accept = true;
		if  (n_usuario.length <= 5 && n_usuario != "")
		{
			for (var i = 0; i < n_usuario.length; i++) {
				if (esNumero(n_usuario.at(i)) == false){
					accept = false;
					break;
				}
			}
		}
		else{accept = false;
			alert("Cadena no aceptada");}
		if (accept == false){n_usuario = "No aceptada";
		accept = true;}

		//NOMBRE
		if (nombre != "")
		{
			for (var i = 0; i < nombre.length; i++) {
			if (esLetra(nombre.at(i)) == false){
				accept = false;
				break;
				}
			}
		}
		else{accept = false;
			alert("Cadena no aceptada");}
		if (accept == false){nombre = "No aceptada";
		accept = true;}

		//APELLIDO
		if (apellido != "")
		{
			for (var i = 0; i < apellido.length; i++) {
			if (esLetra(apellido.at(i)) == false){
				accept = false;
				break;
				}
			}
		}
		else{accept = false;
			alert("Cadena no aceptada");}
		if (accept == false){apellido = "No aceptada";
		accept = true;}

		//TELEFONO
		if  (tel.length == 10)
		{
			for (var i = 0; i < tel.length; i++) {
				if (esNumero(tel.at(i)) == false){
					accept = false;
					break;
				}
				/*
				if(tel.at(0) != "5" || tel.at(1) != "5")
				{
					accept = false;
					break;
				}
				*/
			}
		}else{accept = false;
			alert("Cadena no aceptada");}			
		if (accept == false){tel = "No aceptada";
		accept = true;}

		//MAC
		//Eje: 01:3A:1D:54:6B:32 = 17 caracteres
		//     0123456789ABCDEF
		if(mac.length == 17)
		{
			for (let i = 0; i < mac.length; i++) {
				if(i != 2 && i != 5 && i != 8 && i != 11 && i != 14) //si no es un ":"
				{
					if(esExadecimal(mac.at(i)) == false && mac.at(i) != "")
					{
						accept = false;
						break;
					}
				}
				else if (mac.at(i) != ":")
					{	accept = false;
						break;
					}
			}
		}else{accept = false;
			alert("Cadena no aceptada");}
		if (accept == false){mac = "No aceptada";
		accept = true;}

		//IP 
		//Eje: 192.168.0.0
		
		if(ip != "")
		{
			if(esIP(ip) == false)
			{
				accept = false;
			}
		}else{accept = false;
			alert("Cadena no aceptada");}
		if (accept == false){ip = "No aceptada";
		accept = true;}

		//document.write();
		/*

		if (ip != "" && ip.length <= 15)
		{
			let num = 1;
			let t = "";
			let pivote = "";
			for (var i = 0; i < ip.length; i++) {
				document.write("<br>");
				document.write("i= "+i+" ");
				document.write("at = "+ip.at(i)+" ");
				if(ip.at(0) == "."){
					accept = false;
					break;
				}
				if (ip.at(i) == ".")
				{
					pivote = pivote+"."
				}
				if(esNumero(ip.at(i)) == true)
				{
					t = t+ip.at(i);
					if ((i != ip.length-1 && ip.at(i+1) == ".") || (i == ip.length-1))
					{
						document.write("t= "+t+" ");
						for (let j = 0; j < t.length; j++) {
							if (Number(t) <= 255)
							{
								pivote = pivote+t;
							}
							else{accept = false}
						}
					}
				}
			}
			ip = pivote;
			document.write("<br>"+ip);
		}
		else{accept = false;
			alert("Cadena no aceptada");}
		if (accept == false){ip = "No aceptada";
		accept = true;}
		*/

		//alert(parseInt("AD",16));

		//ip = a_ip[0]+"."+a_ip[1];
		/*
		var t = 0;
		for (var i = 0; i < ip.length; i++) {
			if ((esNumero(ip.at(i)) == false)||(ip.at(i)!= ".")){
				accept = false;
				break;
			}
		}
		if (accept == false){ip = "No aceptada";}
		*/



		document.registro.num_usuarioobtenida.value = n_usuario;
		document.registro.nombreobtenido.value = nombre;
		document.registro.apellidoobtenido.value = apellido;
		document.registro.telobtenido.value = tel;
		document.registro.ipobtenido.value = ip;
		document.registro.macobtenido.value = mac;
		

	}
</script>
</head>
<body>
<form name="registro">
<table border="1">
<tr>
	<td>Numero de Usuario:</td><td><input type="text" name="n_usuario" id="n_usuario" ></td>
</tr>
<tr>
	<td>Nombre:</td><td><input type="text" name="nombre" id="nombre" ></td>
</tr>	
<tr>
	<td>Apellido:</td><td><input type="text" name="apellido" id="apellido" ></td>
</tr>
<tr>
	<td>Telefono:</td><td><input type="text" name="tel" id="tel" ></td>
</tr>
<tr>
	<td>IP:</td><td><input type="text" name="ip" id="ip" ></td>
</tr>
<tr>
	<td>MAC:</td><td><input type="text" name="mac" id="mac" ></td>
</tr>
<tr>
	<!--<td colspan "2"><input type="button" name="btn1" value="Enviar" onclick="obtenerdatos()"></td>-->
</tr>
</table>
<td colspan "2"><input type="button" name="btn1" value="Enviar" onclick="obtenerdatos()"></td>
<br/><br/><br/>




<table border="1">
<tr>
	<td>Numero de Usuario:</td><td><input type="text" name="num_usuarioobtenida" id="num_usuarioobtenida" ></td>
</tr>
<tr>
	<td>Nombre:</td><td><input type="text" name="nombreobtenido" id="nombreobtenido" ></td>
</tr>	
<tr>
	<td>Apellido:</td><td><input type="text" name="apellidoobtenido" id="apellidoobtenido" ></td>
</tr>
<tr>
	<td>Telefono:</td><td><input type="text" name="telobtenido" id="telobtenido" ></td>
</tr>
<tr>
	<td>IP:</td><td><input type="text" name="ipobtenido" id="ipobtenido" ></td>
</tr>
<tr>
	<td>MAC:</td><td><input type="text" name="macobtenido" id="macobtenido" ></td>
</tr>
</table>
</form>
</center>
</body>
</html>